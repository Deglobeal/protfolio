{% extends "base.html" %}

{% block extra_head %}
<style>
  /* Email Page Specific Styles */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  :root {
    --primary: #2563eb;
    --primary-dark: #1e40af;
    --accent: #e11d48;
    --light: #f8fafc;
    --dark: #0f172a;
    --gray: #64748b;
    --light-gray: #e2e8f0;
    --border-radius: 10px;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    --transition: all 0.3s ease;
  }
  
  body {
    background-color: #f1f5f9;
    color: #334155;
    line-height: 1.6;
  }
  
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  
  /* Hero Section */
  .hero {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    padding: 80px 0;
    text-align: center;
    margin-bottom: 60px;
  }
  
  .hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    font-weight: 800;
  }
  
  .hero p {
    font-size: 1.4rem;
    max-width: 800px;
    margin: 0 auto 40px;
    opacity: 0.9;
  }
  
  /* Section Styles */
  .section {
    background: white;
    border-radius: var(--border-radius);
    padding: 40px;
    margin-bottom: 50px;
    box-shadow: var(--shadow);
  }
  
  .section-title {
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 3px solid var(--light);
    position: relative;
  }
  
  .section-title::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 80px;
    height: 3px;
    background: var(--primary);
  }
  
  /* Email Addresses */
  .email-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
  }
  
  .email-card {
    background: var(--light);
    padding: 30px;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary);
    transition: var(--transition);
  }
  
  .email-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow);
  }
  
  .email-card h4 {
    font-size: 1.4rem;
    margin-bottom: 15px;
    color: var(--dark);
  }
  
  .email-card .email-link {
    display: inline-block;
    margin-top: 10px;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary);
    text-decoration: none;
  }
  
  /* Email Templates */
  .template-tabs {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }
  
  .tab-btn {
    padding: 12px 20px;
    background: var(--light-gray);
    border: none;
    border-radius: 30px;
    cursor: pointer;
    font-weight: 600;
    transition: var(--transition);
  }
  
  .tab-btn.active {
    background: var(--primary);
    color: white;
  }
  
  .template-content {
    background: var(--light);
    padding: 30px;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary);
    font-family: 'Courier New', monospace;
    position: relative;
  }
  
  .copy-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--primary);
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    transition: var(--transition);
  }
  
  .copy-btn:hover {
    background: var(--primary-dark);
  }
  
  /* Guidelines */
  .guidelines-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
  }
  
  .guideline-card {
    background: var(--light);
    padding: 25px;
    border-radius: var(--border-radius);
  }
  
  ul {
    padding-left: 25px;
    margin-bottom: 20px;
  }
  
  ul li {
    margin-bottom: 12px;
    position: relative;
  }
  
  ul li::before {
    content: "â€¢";
    color: var(--primary);
    position: absolute;
    left: -20px;
  }
  
  /* Security Section */
  .security-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
  }
  
  .security-card {
    background: var(--light);
    padding: 25px;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--accent);
  }
  
  /* Alternative Methods */
  .methods-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
  }
  
  .method-card {
    background: white;
    border: 1px solid var(--light-gray);
    padding: 30px;
    border-radius: var(--border-radius);
    text-align: center;
    transition: var(--transition);
  }
  
  .method-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow);
  }
  
  .method-icon {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 20px;
  }
  
  /* FAQ Section */
  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
  }
  
  .faq-item {
    background: var(--light);
    padding: 25px;
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary);
  }
  
  /* CTA Section */
  .cta-section {
    text-align: center;
    padding: 60px 40px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color: white;
    border-radius: var(--border-radius);
    margin-bottom: 60px;
  }
  
  .cta-section h3 {
    font-size: 2.2rem;
    margin-bottom: 20px;
  }
  
  .cta-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
  }
  
  .btn {
    display: inline-block;
    padding: 12px 30px;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 600;
    transition: var(--transition);
    text-align: center;
  }
  
  .btn-light {
    background: white;
    color: var(--primary);
  }
  
  .btn-outline {
    border: 2px solid white;
    color: white;
  }
  
  @media (max-width: 900px) {
    .hero h1 {
      font-size: 2.8rem;
    }
    
    nav ul {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      background: white;
      padding: 20px;
      flex-direction: column;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
      z-index: 99;
    }
    nav ul.active {
      display: flex;
    }
  }
  
  @media (max-width: 600px) {
    .hero {
      padding: 60px 0;
    }
    
    .hero h1 {
      font-size: 2.2rem;
    }
    
    .cta-buttons {
      flex-direction: column;
    }
  }
</style>
{% endblock %}

{% block main %}
<main class="container">
  <!-- Introduction -->
  <div class="section">
    <h3 class="section-title">Direct Email Communication</h3>
    <p>Email remains one of the most effective ways to communicate professionally. This page provides you with everything you need to reach out to me via email, including templates, guidelines, and best practices for effective communication.</p>
    <p>Whether you're reaching out for business inquiries, collaboration opportunities, or general questions, following these guidelines will help ensure your message gets the attention it deserves.</p>
  </div>
  
  <!-- Email Addresses (model-driven) -->
  <div class="section">
    <h3 class="section-title">My Email Addresses</h3>
    <p>Here are the preferred email addresses and what they're best for.</p>
    
    <div class="email-grid">
      {# Expect a context variable 'emails' - a list of dicts with keys: title, address, best_for, response_time #}
      {% for e in emails %}
      <div class="email-card">
        <h4>{{ e.title|default:"General Contact" }}</h4>
        <p><strong>Email:</strong></p>
        <a href="mailto:{{ e.address|default:"kachimaxy1@gmail.com" }}" class="email-link">{{ e.address|default:"kachimaxy1@gmail.com" }}</a>
        <p><strong>Best for:</strong> {{ e.best_for|default:"General questions, networking, technical discussions" }}</p>
        <p><strong>Response time:</strong> {{ e.response_time|default:"Within 48 hours" }}</p>
      </div>
      {% empty %}
      {# Fallback cards if no emails passed from view #}
      <div class="email-card">
        <h4>Business Inquiries</h4>
        <p><strong>Email:</strong></p>
        <a href="mailto:kachimaxy1@gmail.com" class="email-link">kachimaxy1@gmail.com</a>
        <p><strong>Best for:</strong> Project inquiries, business proposals, collaboration requests, and professional opportunities.</p>
        <p><strong>Response time:</strong> Within 24 hours during business days</p>
      </div>
      
      <div class="email-card">
        <h4>General Contact</h4>
        <p><strong>Email:</strong></p>
        <a href="mailto:kachimaxy1@gmail.com" class="email-link">kachimaxy1@gmail.com</a>
        <p><strong>Best for:</strong> General questions, networking, technical discussions, and casual inquiries.</p>
        <p><strong>Response time:</strong> Within 48 hours</p>
      </div>
      
      <div class="email-card">
        <h4>Technical Support</h4>
        <p><strong>Email:</strong></p>
        <a href="mailto:kachimaxy1@gmail.com" class="email-link">kachimaxy1@gmail.com</a>
        <p><strong>Best for:</strong> Technical issues with projects, bug reports, and support requests.</p>
        <p><strong>Response time:</strong> Within 12 hours for urgent issues</p>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- Email Templates (model-driven) -->
  <div class="section">
    <h3 class="section-title">Email Templates</h3>
    <p>Use these templates as starting points for your emails. Fill the bracketed sections as needed.</p>
    
    <div class="template-tabs" id="templateTabs">
      {# Expect 'templates' context: list of dicts with keys: key (slug), title, subject, body #}
      {% for t in templates %}
        <button class="tab-btn {% if forloop.first %}active{% endif %}" data-tab="{{ t.key|default:"template_"|add:forloop.counter }}">{{ t.title|default:"Template " }}</button>
      {% endfor %}
      {% if not templates %}
        {# default buttons if none provided #}
        <button class="tab-btn active" data-tab="project">Project Inquiry</button>
        <button class="tab-btn" data-tab="collab">Collaboration Request</button>
        <button class="tab-btn" data-tab="tech">Technical Question</button>
        <button class="tab-btn" data-tab="professional">Professional Request</button>
        <button class="tab-btn" data-tab="network">Professional Networking</button>
      {% endif %}
    </div>
    
    <div class="template-content" id="templateContentArea">
      {# Render template blocks - hidden except active #}
      {% if templates %}
        {% for t in templates %}
          <div class="template-block" data-tab="{{ t.key|default:"template_"|add:forloop.counter }}" style="{% if not forloop.first %}display:none;{% endif %}">
            <h5>Subject: {{ t.subject|default:"[Subject here]" }}</h5>
            <button class="copy-btn">Copy Template</button>
            <blockquote class="template-body">{{ t.body|default:"[Template body]" }}</blockquote>
            <p style="margin-top:16px;"><strong>Tip:</strong> Customize bracketed sections with your specific information.</p>
          </div>
        {% endfor %}
      {% else %}
        {# Default template content (keeps original paragraphs but includes Professional Request) #}
        <div class="template-block" data-tab="project">
          <h5>Subject: Project Inquiry - [Brief Project Description]</h5>
          <button class="copy-btn">Copy Template</button>
          <blockquote class="template-body">
Dear [Recipient Name],

I hope this email finds you well. My name is [Your Name] and I am [Your Title/Role] at [Your Company/Organization].

I am reaching out regarding a potential project opportunity that I believe would be a great fit for your expertise. Here are the key details:

Project Overview:
[Brief description of what you need built or accomplished]

Timeline:
[When you need the project completed]

Budget Range:
[Your budget expectations, if comfortable sharing]

Key Requirements:
- [Requirement 1]
- [Requirement 2]
- [Requirement 3]

I would love to discuss this opportunity further and answer any questions you might have. Would you be available for a brief call or video meeting in the coming week?

Thank you for your time and consideration. I look forward to hearing from you.

Best regards,
[Your Name]
[Your Contact Information]
          </blockquote>
          <p><strong>Tip:</strong> Copy this template and fill in the bracketed sections with your specific information.</p>
        </div>

        <div class="template-block" data-tab="collab" style="display:none;">
          <h5>Subject: Collaboration Opportunity - [Type of Collaboration]</h5>
          <button class="copy-btn">Copy Template</button>
          <blockquote class="template-body">
Hi [Recipient Name],

I've been following your work, particularly [specific project or skill you admire], and I'm impressed by your expertise in [relevant technology/field].

I'm [Your Name], a [Your Role] with experience in [Your Expertise]. I'm reaching out because I believe we could create something meaningful together.

Collaboration Idea:
[Describe your collaboration idea or project concept]

What I Bring:
- [Your skill/resource 1]
- [Your skill/resource 2]
- [Your skill/resource 3]

What I'm Looking For:
[What you need from them - skills, time, resources, etc.]

I'd love to explore this further and see if it aligns with your interests and availability. Would you be open to a conversation about this?

Thanks for considering this opportunity!

Cheers,
[Your Name]
[Your Portfolio/LinkedIn]
[Your Email]
          </blockquote>
        </div>

        <div class="template-block" data-tab="tech" style="display:none;">
          <h5>Subject: Technical Question - [Brief Topic Description]</h5>
          <button class="copy-btn">Copy Template</button>
          <blockquote class="template-body">
Hello [Recipient Name],

I hope you're doing well. I'm [Your Name], a [Your Role/Level] developer working with [Technologies you're using].

I came across your work on [specific project or article] and was hoping you might be able to provide some guidance on a technical challenge I'm facing.

The Challenge:
[Describe your specific technical problem or question]

What I've Tried:
- [Approach 1]
- [Approach 2]
- [Resources consulted]

Current Environment:
- [Technology stack]
- [Relevant versions]
- [Any constraints]

I understand you're busy, so even a brief pointer in the right direction would be incredibly helpful. If you have any resources or suggestions, I'd be very grateful.

Thank you for your time and for sharing your knowledge with the community.

Best,
[Your Name]
[Your GitHub/Portfolio if relevant]
          </blockquote>
        </div>

        <div class="template-block" data-tab="professional" style="display:none;">
          <h5>Subject: Professional Request - [Consultation / Opportunity]</h5>
          <button class="copy-btn">Copy Template</button>
          <blockquote class="template-body">
Dear [Recipient Name],

I hope you're well. My name is [Your Name]. I'm reaching out to request a professional consultation regarding [topic or service]. I value your expertise and would appreciate your time to discuss:

- Purpose of consultation: [short description]
- Specific questions or outcomes I hope to achieve: [points]
- Preferred meeting format: [call/video/email]
- Availability: [dates/times]

If you're open to this, please let me know your availability and hourly/consultation rates (if applicable). I'm flexible and can adjust to a time that suits you.

Thank you for considering my request.

Kind regards,
[Your Name]
[Role / Organization]
[Your Contact Information]
          </blockquote>
        </div>

        <div class="template-block" data-tab="network" style="display:none;">
          <h5>Subject: Introduction - [Your Name] from [Context/Connection]</h5>
          <button class="copy-btn">Copy Template</button>
          <blockquote class="template-body">
Hi [Recipient Name],

I hope this message finds you well. My name is [Your Name] and I'm a [Your Role] based in [Your Location].

I discovered your work through [how you found them - LinkedIn, GitHub, conference, mutual connection, etc.] and was particularly impressed by [specific work or achievement].

I'm currently [brief description of what you're working on or your career stage], and I'd love to connect with fellow professionals in the [relevant field/technology] space.

A bit about me:
- [Key professional highlight 1]
- [Key professional highlight 2]
- [Current focus or interest]

I'd be honored to connect and perhaps exchange insights about [relevant topic]. If you're ever interested in grabbing coffee (virtual or in-person if we're in the same area) or just connecting on LinkedIn, I'd really appreciate it.

Best regards,
[Your Name]
[Your LinkedIn Profile]
[Your Email]
          </blockquote>
        </div>
      {% endif %}
    </div>
  </div>
  
  <!-- Email Etiquette (model-driven) -->
  <div class="section">
    <h3 class="section-title">Email Etiquette Guidelines</h3>
    <p>Following proper email etiquette helps ensure your message is well-received and increases the likelihood of a prompt, helpful response.</p>
    
    <div class="guidelines-grid">
      {# Expect 'guideline_sections': list of dicts {title, items (list)} #}
      {% for g in guideline_sections %}
      <div class="guideline-card">
        <h4>{{ g.title|default:"Guideline" }}</h4>
        {% if g.subsections %}
          {% for ss in g.subsections %}
            <h5>{{ ss.title }}</h5>
            <ul>
              {% for it in ss.items %}
                <li>{{ it }}</li>
              {% endfor %}
            </ul>
          {% endfor %}
        {% else %}
          <ul>
            {% for it in g.items %}
              <li>{{ it }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      </div>
      {% empty %}
      {# Fallback (keeps original structure) #}
      <div class="guideline-card">
        <h4>Subject Line Best Practices</h4>
        <ul>
          <li><strong>Be specific and descriptive:</strong> Instead of "Question" use "React Performance Question - Large Component Re-renders"</li>
          <li><strong>Include the type of inquiry:</strong> "Project Inquiry", "Collaboration Request", "Technical Question", etc.</li>
          <li><strong>Keep it concise:</strong> Aim for 50 characters or less to ensure it displays fully on mobile devices</li>
          <li><strong>Avoid spam triggers:</strong> Don't use all caps, excessive punctuation, or words like "URGENT" unless truly necessary</li>
          <li><strong>Make it actionable:</strong> If you need a response by a certain date, include it: "Project Proposal - Response Needed by March 15"</li>
        </ul>
      </div>
      <div class="guideline-card">
        <h4>Email Structure Guidelines</h4>
        <h5>Opening</h5>
        <ul>
          <li>Use a professional greeting: "Dear [Name]", "Hi [Name]"</li>
          <li>Introduce yourself briefly if you haven't communicated before</li>
          <li>Mention how you found their work or contact</li>
        </ul>
        <h5>Body</h5>
        <ul>
          <li>Get to the point quickly - state your purpose in the first paragraph</li>
          <li>Use bullet points or numbered lists for multiple questions or requirements</li>
          <li>Provide context and relevant details, but keep it concise</li>
        </ul>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- Security Section (model-driven) -->
  <div class="section">
    <h3 class="section-title">Email Security & Privacy</h3>
    <p>I take email security and privacy seriously. Here's what you should know:</p>
    
    <div class="security-grid">
      {% for s in security_items %}
      <div class="security-card">
        <h4>{{ s.title|default:"Security Practice" }}</h4>
        <ul>
          {% for it in s.points %}
            <li>{{ it }}</li>
          {% endfor %}
        </ul>
      </div>
      {% empty %}
      <div class="security-card">
        <h4>Security Practices</h4>
        <ul>
          <li><strong>Encryption:</strong> My email accounts use TLS encryption for secure transmission</li>
          <li><strong>Spam filtering:</strong> Emails may be filtered automatically. If your email is legitimate but gets filtered, try the contact form on my website</li>
          <li><strong>Attachments:</strong> I scan all attachments for security. Large files should be shared via secure cloud links</li>
          <li><strong>Suspicious emails:</strong> I don't open suspicious attachments or click unknown links for security reasons</li>
        </ul>
      </div>
      <div class="security-card">
        <h4>Privacy Policy</h4>
        <ul>
          <li><strong>Information use:</strong> I only use your email and information to respond to your inquiry</li>
          <li><strong>No sharing:</strong> I don't share your contact information with third parties without explicit permission</li>
          <li><strong>Storage:</strong> Emails are stored securely and deleted after reasonable time periods unless ongoing communication is needed</li>
          <li><strong>Unsubscribe:</strong> If you're added to any mailing lists, you can always unsubscribe or request removal</li>
        </ul>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- Alternative Methods (model-driven) -->
  <div class="section">
    <h3 class="section-title">Alternative Communication Methods</h3>
    <p>While email is my preferred method of initial contact, here are other ways to reach me depending on your needs:</p>
    
    <div class="methods-grid">
      {% for m in methods %}
      <div class="method-card">
        <div class="method-icon">
          {{ m.icon_html|safe }}
        </div>
        <h4>{{ m.title|default:"Method" }}</h4>
        <p><strong>{{ m.label|default:"Contact" }}:</strong>
          {% if m.link %}
            <a href="{{ m.link }}" {% if m.target_blank %} target="_blank" rel="noopener noreferrer"{% endif %}>{{ m.display|default:m.link }}</a>
          {% else %}
            {{ m.display|default:"N/A" }}
          {% endif %}
        </p>
        <p><strong>Best for:</strong> {{ m.best_for|default:"See description" }}</p>
        <p><strong>Availability:</strong> {{ m.availability|default:"See description" }}</p>
      </div>
      {% empty %}
      <div class="method-card">
        <div class="method-icon">
          <i class="fas fa-phone"></i>
        </div>
        <h4>Phone Communication</h4>
        <p><strong>Phone:</strong> <a href="tel:+2347032388531">+2347032388531</a></p>
        <p><strong>Best for:</strong> Urgent matters, complex discussions that benefit from real-time conversation</p>
        <p><strong>Availability:</strong> Monday-Friday, 9 AM - 6 PM PST</p>
      </div>
      
      <div class="method-card">
        <div class="method-icon">
          <i class="fas fa-hashtag"></i>
        </div>
        <h4>Social Media</h4>
        <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/gerard-ugwu/" target="_blank">linkedin.com/in/gerard-ugwu</a></p>
        <p><strong>Twitter:</strong> <a href="#">@gerard-ugwu</a></p>
        <p><strong>Best for:</strong> Quick questions, networking, sharing interesting articles or projects</p>
      </div>
      
      <div class="method-card">
        <div class="method-icon">
          <i class="fas fa-envelope"></i>
        </div>
        <h4>Website Contact Form</h4>
        <p><a href="#">Use the contact form</a> on my website if you prefer a structured approach or if email delivery issues occur.</p>
        <p><strong>Best for:</strong> Formal inquiries, when you want to ensure your message is received and tracked</p>
        <p><strong>Response time:</strong> Within 24 hours</p>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- FAQ Section (model-driven) -->
  <div class="section">
    <h3 class="section-title">Email FAQ</h3>
    <p>Here are answers to common questions about emailing me:</p>
    
    <div class="faq-grid">
      {% for f in faqs %}
      <div class="faq-item">
        <h4>{{ f.question }}</h4>
        <p>{{ f.answer }}</p>
      </div>
      {% empty %}
      <div class="faq-item">
        <h4>How quickly do you respond to emails?</h4>
        <p>I typically respond within 24 hours for business inquiries and within 48 hours for general questions. During weekends or holidays, responses may take longer.</p>
      </div>
      
      <div class="faq-item">
        <h4>What if my email ends up in spam?</h4>
        <p>If you don't receive a response within 48 hours, your email might have been filtered. Try using the contact form on my website or calling directly for urgent matters.</p>
      </div>
      
      <div class="faq-item">
        <h4>Can I send large files via email?</h4>
        <p>Email attachments should be under 10MB. For larger files, please use cloud storage services like Google Drive, Dropbox, or WeTransfer and share the link in your email.</p>
      </div>
      
      <div class="faq-item">
        <h4>Do you accept cold emails?</h4>
        <p>Yes, I welcome professional cold emails, especially for interesting projects or collaboration opportunities. Just make sure to follow the guidelines above for the best response.</p>
      </div>
      
      <div class="faq-item">
        <h4>What information should I include for project inquiries?</h4>
        <p>Include project scope, timeline, budget range, technical requirements, and any specific preferences. The more details you provide, the better I can assess if we're a good fit.</p>
      </div>
      
      <div class="faq-item">
        <h4>Do you offer free consultations via email?</h4>
        <p>I'm happy to answer brief questions and provide general guidance via email. For detailed consultations, I prefer to schedule a call or video meeting.</p>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- CTA Section (Gmail compose link) -->
  <div class="cta-section">
    <h3>Ready to Get in Touch?</h3>
    <p>I'm looking forward to hearing from you! Whether you have a project in mind, want to collaborate, or just want to connect, don't hesitate to reach out.</p>
    <div class="cta-buttons">
      {# Use Gmail compose link to "redirect properly to Gmail" #}
      <a href="https://mail.google.com/mail/?view=cm&fs=1&to=kachimaxy1@gmail.com&su=General Inquiry" class="btn btn-outline" target="_blank" rel="noopener noreferrer">Send an Email via Gmail</a>
      {# If you still want 'contact form' to open Gmail, make it configurable via 'contact_form_redirect_to_gmail' #}
      {% if contact_form_redirect_to_gmail %}
        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=kachimaxy1@gmail.com&su={{ contact_form_subject|urlencode|default:'Contact Form Inquiry' }}" class="btn btn-light" target="_blank" rel="noopener noreferrer">Use Contact Form</a>
      {% else %}
        <a href="{{ contact_form_url|default:'/contact' }}" class="btn btn-light">Use Contact Form</a>
      {% endif %}
    </div>
  </div>
</main>
{% endblock %}

{% block scripts %}
<script>
  // Mobile menu toggle
  const mobileBtn = document.querySelector('.mobile-menu');
  if (mobileBtn) {
    mobileBtn.addEventListener('click', function() {
      const nav = document.querySelector('nav ul');
      if (nav) nav.classList.toggle('active');
    });
  }

  // Tab functionality
  (function() {
    const tabContainer = document.getElementById('templateTabs');
    const contentArea = document.getElementById('templateContentArea');
    if (!tabContainer || !contentArea) return;

    const tabBtns = tabContainer.querySelectorAll('.tab-btn');
    const templateBlocks = contentArea.querySelectorAll('.template-block');

    function showTab(tabKey) {
      tabBtns.forEach(b => {
        b.classList.toggle('active', b.dataset.tab === tabKey);
      });
      templateBlocks.forEach(block => {
        block.style.display = block.dataset.tab === tabKey ? 'block' : 'none';
      });
    }

    tabBtns.forEach(btn => {
      btn.addEventListener('click', () => showTab(btn.dataset.tab));
    });

    // Set initial active tab
    const activeTab = tabContainer.querySelector('.tab-btn.active') || tabContainer.querySelector('.tab-btn');
    if (activeTab) showTab(activeTab.dataset.tab);

    // Enhanced copy functionality
    async function copyTemplateText(button) {
      const block = button.closest('.template-block');
      if (!block) return false;
      
      const templateBody = block.querySelector('.template-body');
      if (!templateBody) return false;
      
      const text = templateBody.textContent || templateBody.innerText;
      
      try {
        // Try modern clipboard API first
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(text);
          return true;
        } else {
          // Fallback for older browsers
          const textArea = document.createElement('textarea');
          textArea.value = text;
          textArea.style.cssText = 'position:fixed;left:-9999px;opacity:0;';
          document.body.appendChild(textArea);
          textArea.select();
          
          const success = document.execCommand('copy');
          document.body.removeChild(textArea);
          return success;
        }
      } catch (err) {
        console.error('Copy failed:', err);
        return false;
      }
    }

    // Click handler for copy buttons
    contentArea.addEventListener('click', async (e) => {
      if (e.target.classList.contains('copy-btn')) {
        const button = e.target;
        const originalText = button.textContent;
        
        // Visual feedback - show loading state
        button.textContent = 'Copying...';
        button.disabled = true;
        
        const success = await copyTemplateText(button);
        
        if (success) {
          button.textContent = 'Copied!';
          button.style.backgroundColor = '#10b981';
          button.style.color = 'white';
        } else {
          button.textContent = 'Failed!';
          button.style.backgroundColor = '#ef4444';
          button.style.color = 'white';
        }
        
        // Reset button after 2 seconds
        setTimeout(() => {
          button.textContent = originalText;
          button.style.backgroundColor = '';
          button.style.color = '';
          button.disabled = false;
        }, 2000);
      }
    });
  })();
</script>
{% endblock %}



