{% extends "base.html" %}
{% load static %}

{% block main %}
<style>
  /* ===============  INJECTED STYLES (copied 1-for-1)  =============== */
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
  :root{
    --primary:#2563eb;--primary-dark:#1e40af;--accent:#e11d48;
    --light:#f8fafc;--dark:#0f172a;--gray:#64748b;--light-gray:#e2e8f0;
    --border-radius:10px;--shadow:0 4px 20px rgba(0,0,0,.08);--transition:all .3s ease;
  }

  /* --- project-specific overrides --- */
  .project-section{background:#fff;border-radius:var(--border-radius);padding:40px;margin-bottom:50px;box-shadow:var(--shadow);}
  .section-title{margin-bottom:25px;padding-bottom:15px;border-bottom:3px solid var(--light-gray);position:relative;}
  .section-title::after{content:'';position:absolute;left:0;bottom:-3px;width:80px;height:3px;background:var(--primary);}
  .project-card{background:#fff;border-radius:var(--border-radius);padding:30px;margin-bottom:40px;box-shadow:var(--shadow);transition:var(--transition);border-left:4px solid var(--primary);}
  .project-card:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(0,0,0,.1);}
  .project-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px;}
  .project-image{width:100%;height:300px;border-radius:var(--border-radius);overflow:hidden;margin-bottom:20px;background:linear-gradient(135deg,#e2e8f0 0%,#cbd5e1 100%);display:flex;align-items:center;justify-content:center;color:var(--gray);font-style:italic;}
  .project-content p{margin-bottom:20px;color:var(--gray);}
  .project-details,.project-detail{display:flex;align-items:center;gap:8px;color:var(--gray);flex-wrap:wrap;}
  .tech-list{display:flex;flex-wrap:wrap;gap:10px;margin:15px 0;}
  .tech-item{background:var(--light);padding:5px 15px;border-radius:20px;font-size:.9rem;color:var(--dark);}
  .project-links{display:flex;gap:15px;margin-top:20px;}
  .btn{display:inline-block;padding:12px 30px;border-radius:30px;text-decoration:none;font-weight:600;transition:var(--transition);text-align:center;}
  .btn-primary{background:var(--primary);color:#fff;}
  .btn-primary:hover{background:var(--primary-dark);transform:translateY(-3px);}
  .btn-outline{border:2px solid var(--primary);color:var(--primary);}
  .btn-outline:hover{background:var(--primary);color:#fff;transform:translateY(-3px);}
  .project-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin:40px 0;}
  .stat-card{background:var(--light);padding:30px 20px;border-radius:var(--border-radius);text-align:center;transition:var(--transition);box-shadow:0 4px 10px rgba(0,0,0,.05);}
  .stat-card:hover{transform:translateY(-3px);box-shadow:var(--shadow);}
  .stat-card h4{font-size:2.5rem;color:var(--primary);margin-bottom:10px;}
  .challenge-card{background:var(--light);padding:25px;border-radius:var(--border-radius);margin-bottom:25px;border-left:4px solid var(--accent);}
  .challenge-card h4{margin-bottom:15px;color:var(--dark);}
  .cta-section{text-align:center;padding:60px 40px;background:linear-gradient(135deg,#f8fafc 0%,#e2e8f0 100%);border-radius:var(--border-radius);margin:60px 0;}
  .cta-section h2{margin-bottom:20px;}
  .cta-section p{max-width:700px;margin:0 auto 30px;color:var(--gray);}
  .cta-buttons{display:flex;gap:20px;justify-content:center;flex-wrap:wrap;}
  @media(max-width:768px){
    .project-header{flex-direction:column;align-items:flex-start;}
    .project-image{height:200px;}
    .project-stats{grid-template-columns:repeat(2,1fr);}
  }
  @media(max-width:480px){
    .project-stats{grid-template-columns:1fr;}
    .project-links{flex-direction:column;}
  }
</style>

<div class="container">
  <!-- ========================================================= -->
  <!--  SECTIONS WITH NEW STYLES APPLIED                        -->
  <!-- ========================================================= -->

  <!-- Featured Projects -->
  <section class="project-section">
    <h2 class="section-title">Featured Projects</h2>

    {% for project in featured_projects %}
    <div class="project-card">
      <div class="project-header">
        <h3>{{ project.title }}</h3>
        {% if project.timeline %}
        <div class="project-detail">
          <i class="far fa-calendar"></i>
          <span><strong>Timeline:</strong> {{ project.timeline }}</span>
        </div>
        {% endif %}
      </div>

      <div class="project-image" {% if project.image %}style="background-image:url('{{ project.image.url }}');background-size:cover;background-position:center;"{% endif %}>
        {% if not project.image %}[Project Screenshot - {{ project.title }}]{% endif %}
      </div>

      <div class="project-content">
        <p>{{ project.description }}</p>

        {% if project.key_features %}
        <h4>Key Features:</h4>
        <ul>
          {% for feature in project.key_features.splitlines %}
            {% if feature %}<li>{{ feature }}</li>{% endif %}
          {% endfor %}
        </ul>
        {% endif %}

        {% if project.technologies %}
        <h4>Technologies Used:</h4>
        <div class="tech-list">
          {% for tech in project.technologies.splitlines %}
            {% if tech %}<span class="tech-item">{{ tech }}</span>{% endif %}
          {% endfor %}
        </div>
        {% endif %}

        <div class="project-links">
          {% if project.live_url %}
          <a href="{{ project.live_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
            <i class="fas fa-external-link-alt"></i> Live Demo
          </a>
          {% endif %}
          {% if project.github_url %}
          <a href="{{ project.github_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-outline">
            <i class="fab fa-github"></i> GitHub Repository
          </a>
          {% endif %}
        </div>

        {% if project.role %}
        <div class="project-detail">
          <i class="fas fa-user-tie"></i>
          <span><strong>Role:</strong> {{ project.role }}</span>
        </div>
        {% endif %}
      </div>
    </div>
    {% empty %}
    <div class="project-card">
      <p>No featured projects available at the moment.</p>
    </div>
    {% endfor %}
  </section>

  <!-- Additional Projects -->
  <section class="project-section">
    <h2 class="section-title">Additional Projects</h2>

    {% for project in additional_projects %}
    <div class="project-card">
      <div class="project-header">
        <h3>{{ project.title }}</h3>
        {% if project.timeline %}
        <div class="project-detail">
          <i class="far fa-calendar"></i>
          <span><strong>Timeline:</strong> {{ project.timeline }}</span>
        </div>
        {% endif %}
      </div>

      <div class="project-image" {% if project.image %}style="background-image:url('{{ project.image.url }}');background-size:cover;background-position:center;"{% endif %}>
        {% if not project.image %}[Project Screenshot - {{ project.title }}]{% endif %}
      </div>

      <p>{{ project.description }}</p>

      {% if project.technologies %}
      <div class="tech-list">
        {% for tech in project.technologies.splitlines %}
          {% if tech %}<span class="tech-item">{{ tech }}</span>{% endif %}
        {% endfor %}
      </div>
      {% endif %}

      <div class="project-links">
        {% if project.live_url %}
        <a href="{{ project.live_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
          <i class="fas fa-external-link-alt"></i> Live Demo
        </a>
        {% endif %}
        {% if project.github_url %}
        <a href="{{ project.github_url }}" target="_blank" rel="noopener noreferrer" class="btn btn-outline">
          <i class="fab fa-github"></i> GitHub Repository
        </a>
        {% endif %}
      </div>
    </div>
    {% empty %}
    <div class="project-card">
      <p>No additional projects available at the moment.</p>
    </div>
    {% endfor %}
  </section>

  <!-- Open Source Contributions -->
  <section class="project-section">
    <h2 class="section-title">Open Source Contributions</h2>
    <p>
      I actively contribute to open source projects and believe in giving back to the developer community. Here are some of my notable contributions:
    </p>

    <div class="project-card">
      <h3>React Component Library</h3>
      <p>Contributed multiple reusable components and bug fixes to a popular React component library used by thousands of developers.</p>
      <div class="project-links">
        <a href="https://github.com/Deglobeal" target="_blank" rel="noopener noreferrer" class="btn btn-outline">
          <i class="fab fa-github"></i> View Contributions
        </a>
      </div>
    </div>

    <div class="project-card">
      <h3>Documentation Improvements</h3>
      <p>Enhanced documentation and created tutorials for various open source projects, making them more accessible to new contributors.</p>
      <div class="project-links">
        <a href="https://github.com/Deglobeal" target="_blank" rel="noopener noreferrer" class="btn btn-outline">
          <i class="fab fa-github"></i> View GitHub Profile
        </a>
      </div>
    </div>
  </section>

  <!-- Technical Challenges & Solutions -->
  <section class="project-section">
    <h2 class="section-title">Technical Challenges & Solutions</h2>
    <p>
      Each project presented unique challenges that required creative problem-solving and technical expertise. Here are some notable examples:
    </p>

    <div class="challenge-card">
      <h4>Performance Optimization</h4>
      <p><strong>Challenge:</strong> E-commerce platform was experiencing slow load times with large product catalogs.</p>
      <p><strong>Solution:</strong> Implemented lazy loading, image optimization, code splitting, and database query optimization, reducing load times by 60%.</p>
    </div>

    <div class="challenge-card">
      <h4>Real-time Synchronization</h4>
      <p><strong>Challenge:</strong> Task management app needed real-time updates across multiple users without conflicts.</p>
      <p><strong>Solution:</strong> Implemented WebSocket connections with conflict resolution algorithms and optimistic UI updates.</p>
    </div>

    <div class="challenge-card">
      <h4>Cross-browser Compatibility</h4>
      <p><strong>Challenge:</strong> Weather dashboard needed to work consistently across all modern browsers and devices.</p>
      <p><strong>Solution:</strong> Used progressive enhancement, polyfills, and extensive cross-browser testing to ensure compatibility.</p>
    </div>
  </section>

  <!-- Project Statistics -->
  <section class="project-section">
    <h2 class="section-title">Project Statistics</h2>
    <div class="project-stats">
      <div class="stat-card">
        <h4>{{ featured_projects.count|add:additional_projects.count }}+</h4>
        <p>Completed Projects</p>
      </div>
      <div class="stat-card">
        <h4>50,000+</h4>
        <p>Lines of Code Written</p>
      </div>
      <div class="stat-card">
        <h4>10+</h4>
        <p>Technologies Mastered</p>
      </div>
      <div class="stat-card">
        <h4>100%</h4>
        <p>Client Satisfaction</p>
      </div>
    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <h2 class="section-title">Interested in Working Together?</h2>
    <p>
      I'm always excited to take on new challenges and collaborate on interesting projects. Whether you need a full-stack web application, a responsive website, or technical consultation, I'd love to hear from you.
    </p>
    <div class="cta-buttons">
      <a href="/contact" class="btn btn-primary">Get In Touch</a>
      <a href="/resume" class="btn btn-outline">View My Resume</a>
      <a href="https://github.com/Deglobeal" target="_blank" rel="noopener noreferrer" class="btn btn-outline">
        <i class="fab fa-github"></i> GitHub Profile
      </a>
    </div>
  </section>
</div>
{% endblock %}